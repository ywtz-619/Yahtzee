# Yahtzee

<!--
## 插件开发者详阅

### 开始

此仓库是 LangBot 插件模板，您可以直接在 GitHub 仓库中点击右上角的 "Use this template" 以创建你的插件。  
接下来按照以下步骤修改模板代码：

#### 修改模板代码

- 修改此文档顶部插件名称信息
- 将此文档下方的`<插件发布仓库地址>`改为你的插件在 GitHub 上的地址
- 补充下方的`使用`章节内
- 修改`main.py`中的`MyPlugin`类名为你的插件类名
- 修改`manifest.yaml`中的信息
- 将插件所需依赖库写到`requirements.txt`中
- 根据[插件开发教程](https://docs.langbot.app/zh/plugin/dev/tutor.html)编写插件代码
- 删除 README.md 中的注释内容


#### 发布插件

推荐将插件上传到 GitHub 代码仓库，以便用户通过下方方式安装。   
欢迎[提issue](https://github.com/RockChinQ/LangBot/issues/new?assignees=&labels=%E7%8B%AC%E7%AB%8B%E6%8F%92%E4%BB%B6&projects=&template=submit-plugin.yml&title=%5BPlugin%5D%3A+%E8%AF%B7%E6%B1%82%E7%99%BB%E8%AE%B0%E6%96%B0%E6%8F%92%E4%BB%B6)，将您的插件提交到[插件列表](https://github.com/stars/RockChinQ/lists/qchatgpt-%E6%8F%92%E4%BB%B6)

下方是给用户看的内容，按需修改
-->

## 安装

配置完成 [LangBot](https://github.com/RockChinQ/LangBot) 主程序后即可到插件管理页面安装  
或查看详细的[插件安装说明](https://docs.langbot.app/plugin/plugin-intro.html#%E6%8F%92%E4%BB%B6%E7%94%A8%E6%B3%95)

## 简介

[快艇骰子](https://zhuanlan.zhihu.com/p/104178095)是一款融合了运气、策略的简单有趣的骰子游戏。

本插件允许你在群聊中，或与机器人私聊时，随时开启一把紧张刺激的🚤快艇骰子🎲。

## 使用说明

安装插件后，在机器人能响应的群聊或私聊中发送正确初始指令即进入游戏。

PS 在作者与朋友测试过程中，发现为交互体验计，游戏指令最好不设前缀，在识别到初始指令时，Yahtzee插件会接管所有消息，直到游戏结束，以免意外触发模型回复，干扰游戏过程。因此，请注意“插件管理”中的**插件排序**。

PPS 插件的Web端配置项在测试时始终有问题，暂时不支持自定义指令等。

### 进行游戏

- 在群聊中，第一个发送`加入快艇 <昵称>`的玩家会创建游戏房间，并成为房主，其他玩家输入相同指令进入房间。房主发送`开始快艇`即开始游戏，接下来按提示发送指令即可。群聊支持1～5人游戏。

- 在私聊中，直接发送`开始快艇`即可开始单人游戏。

### 游戏结束

游戏中有13个记分条目，且每回合都必须记分，因此游戏会在13个回合后自动结束。也可以由房主强制结束。

游戏结束后，群聊中会显示胜者以及排名，私聊中会显示本回合记分板。

### 默认指令一览

#### 等待游戏
- `加入快艇 <昵称>`：创建/加入群游戏房间。（可选）自定义昵称，默认为个人ID。
- `退出快艇`：退出群游戏房间（房主退出则房间解散）。
- `开始快艇`：（房主或私聊可用）开始游戏。

#### 游戏中
- `掷`：掷骰子（未固定的）。圈码表示骰子编号，emoji数字如1️⃣表示骰子点数，绿色表示骰子未固定，红色表示骰子已固定。
- `定 [编号]`：选择要固定的骰子编号。如要固定①、③、⑤号骰子，则发送`定 135`。注意，每次发送`定`都是重新选择所有要固定的骰子，不保留当前选择。编号为`0`代表取消所有选择。
- `定掷 [编号]`：选择要固定的骰子并直接掷出。即`定`+`掷`的组合指令。
- `记 <条目>`：只发送`记`，表示查看记分板。带参数`<条目>`，表示按照当前骰子分值直接对该条目记分，例如`记 快艇`。记分条目包括：`一点``两点``三点``四点``五点``六点``全选``三条``四条``葫芦``小顺``大顺``快艇`。
- `骰`：重新查看当前骰子局面。

#### 强制结束
- `结束快艇`：（房主可用）强制结束游戏并结算。

### 其他

这个插件本意是上班时可以随时跟朋友摸一把，只在微信wechatpad机器人进行了测试。
仍然有不少问题有待解决。


